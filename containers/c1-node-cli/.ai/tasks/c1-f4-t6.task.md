# Task 6 for Plan c1-f4

Implement validation logic to ensure commands are properly formatted and can be executed correctly.

**Layer**: domain  
**Status**: not-started

### Reference

- [Feature Blueprint](/docs/f4-command-handling.blueprint.md)
- [Implementation Plan](/containers/c1-node-cli/docs/f4-command-handling.plan.md)
- [Language coding rules](/containers/c1-node-cli/.ai/rules/0-typescript.rules.md)  
- [Node CLI rules](/containers/c1-node-cli/.ai/rules/1-node-cli.rules.md)
- [Domain Layer rules](/containers/c1-node-cli/.ai/rules/3-domain-layer.rules.md)

## Instructions

### Create Command Validation Types

`src/domain/commandValidation.types.ts`:
- Import necessary types from system layer
- Define a `ValidationResult` interface with:
  - `isValid: boolean` - Indicates if validation passed
  - `errors: string[]` - List of validation error messages
  - `warnings: string[]` - List of validation warnings
- Define a `CommandValidator` interface with methods:
  - `validateCommand(command: Command): ValidationResult` - Validate command structure
  - `validateCommandExecution(command: Command, args: string[], options: Record<string, any>): ValidationResult` - Validate execution parameters

### Implement Command Validator Service

`src/domain/commandValidator.service.ts`:
- Import the command types and validation types
- Implement a `CommandValidatorService` class with these validation functions:
  - `validateCommandStructure(command: Command): ValidationResult` - Check that a command has all required properties
  - `validateCommandName(name: string): ValidationResult` - Validate command naming conventions
  - `validateCommandOptions(options: Option[]): ValidationResult` - Check option definitions for correctness
  - `validateCommandArguments(args: Argument[]): ValidationResult` - Verify argument definitions
  - `validateExecutionContext(command: Command, providedArgs: string[], providedOptions: Record<string, any>): ValidationResult` - Validate execution parameters against command definition
- Implement utility functions to:
  - Generate error messages for validation failures
  - Check for naming conflicts in options/arguments
  - Validate option aliases
- Export the validator service as a singleton

### Create Command Naming Convention Utilities

`src/domain/commandNaming.util.ts`:
- Implement utility functions for command naming conventions:
  - `isValidCommandName(name: string): boolean` - Check if name follows the noun:verb pattern
  - `formatCommandName(name: string): string` - Format a name to match conventions
  - `splitCommandName(name: string): { namespace: string, action: string }` - Split a command name into components
  - `joinCommandName(namespace: string, action: string): string` - Join components into a valid command name
- Add validation for argument and option naming

> End of programming instructions for task c1-f4-t6. 